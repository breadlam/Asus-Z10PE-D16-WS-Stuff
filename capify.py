import sys

header = b'\x8b\xa6<J#w\xfbH\x80=W\x8c\xc1\xfe\xc4M\x00\x08\x00\x00\x01\x00\x01\x00\x00\x08\x00\x01\x00\x08X\x048\x04\x00\x00\x00\x02\xf1\x0e\x14tq\xa7\x16\xc6wI\x94 \x84G\x12\xa75\xbf\xdeY\xaaQ\xf2\xfd\xa3N\xbcc\x87_\xb7\x84.\xe9\xd9\x84\x156\xc5\xd4\xce\x8a\xa1V\x16\xa0\xe8t\xcdX\x1e*\x02\x96\x1b\xc47d\xda\x8cj$\x84\xcd\xdc\xc4h\x04\x15\xc7\xe9\xcf \xa4E\x1aB\xf0\xa3\x9bb"n*Cg\x17\x8dM\x10\xaa\xf8\xdd\xf2*\x9e\x86\xba\x91\xd02~\x95\xbe\x01xs:\xd3\x98~\x19\xf8\x16\x0e\'\xcc\xea\xc5\xbe\xb5\x80~\xe8\xbc\xa8\x17A\xb3\xeaU4\x19S\xd7~}P\xc7Z\xb8\xefT\xf9\x13n\xab\xd6E\xcd\x1d\x02\x94\xe2x\xd7\x88\xa8\x10R\x8d~\xba\xf1I6\xc0hp\xf9\xd5\x0cZ\xfdk\x1ao\x88\xc27i"B\x92\xf3\x9d\xae\xefs\xec\xf4\x0f2Bd\xc3\xe9\xb9\x89\xdd\x06\xe5\xcc/k\xf8\x00N\x91d\xf7\x03E\xf0O\xa4\x11\x83\xe9\x83\x97\xe9\xa0\xdc-\xc8\x03V\xb4\xdfa\xa62\xa5\x8b\xa6\x1bN\xd8\x1c\xa7\xa3\xf3rNr\xf8\xfeiI\xcfa\xf2\xe6Y\x96X\xb8\x14|\xca\xf5\xe5k\xf0m\xda\xf7\xbc\x08[\x7fW\xe9\x967YZpyW\x0e\xc8\x82\xc8\x91{g\xf9-A\x8a\xe7\\oh\xce\x1f\x11\xd7E\xb6\x03\x8a\xb7\x85\x90\x9e\xf9+\xb7\x00\x91\xef=_\x808\x03\x9d\xd1\xf8\x1df\x80?\xcc\xa3\r\xdb\x98\xef\xec\xf3yT\x139\xbb\xa4\x07\x89\x15\xf4[\x98i\xed\x12\xcf4\x1c\x8bC.\x1b\xebar\x90\x10\x9a\xffR\x04?\x1ctH\xad\xab]\xb2\x9f\xddG\xa5\x8b\xc1mXyy"\xbd\x9br\xf1\x18\xe9\xf2l\xd0\x8d\xc8\xc2\xe3\xc2c\x93g\xa0n\xb1je2\x1bs\x84\x99\xfaMr\xdfIQ?\xf3\xbc\xdc\xbcmC9\x06F\xde\xc1\x85:\x0b\xa62Q\xad]2)+Z\xcaP!J\x82\x8cn\xb0\x941?\x08\xe9M \xe2\xf6g\xda\xba\x1c~z\x92\xdc\x9c*\x9c\xbf\x823rj\x9c"k\xa2\xea\xd5\xde\x7f5\x7f\xea\xfb_\xf1\xab.,U\x83W\xbcx\xcb \xd6\x1f+\x08\'\xc7\x82\xca?B3\xac\xa0[\xf2+\x164c\x1d\xfa\xdfp\x1f\x03*\x0e+\xd3\x04\xb0\x85l\x164l\xd5\xdd-\xa7TU\xb1D\x86\x05\x84,\xdeY\xaaQ\xf2\xfd\xa3N\xbcc\x87_\xb7\x84.\xe9\x89\x0c\x01\x86\x8c\xdc\x1f\x06$Lr\xb9 \xd0\xb6\xcc\xaf\x17\xcc\xa0\xc5\x06z\xa9\x18,O\xea\x1d\x9f\xd4\x94\x122,`\xdd\xa4\xb5\xfc\x9d\x94h\x95\xffU|\x8a\xcfPLY_Y\xa6\xed\x1f"\x05Q\x92\x07(\xdcz+"\x13/\xf0\xdc\x87\x87\xa4y+\xcc\x9eV(T\x08\x9e\xb4\x01]\x91\xf8\xa8\xe9\xab\xf1x\xc4\x8d\x08\x12\x88q`\xc5E_\xad>^\x9b\xe2U\xb4@\x03\x1d\xad7\x93\xfd\x8b\xc5e\xb4\x97L\x05\xe8b\x92\xea\xf1w\x8d&\xd86\xacH&\xfb\x93=\x10o"N\xef\xa4\x8ao\x10\xa73\x7f\xb8Z5u\xd6\x1e\xdec.\x82\xe2\xd4\xd9K[\x0f\x9d\xe2\xd8\xb2\xed\xe07R4\x1c\x80\xc5Z\x80\x80\xb8\xc6\x1ft\xb2\xedA\x9b\x16\x04e\xb8Q\xa7\xf8\\c\xae\x17kv\xde\t\x9cq\xcd\x9c\xdc\x07{\xf6a~\x9b\xe7u\x89\x8e\x14\x81\x8d\xf9g3\x9e\xba\xda\n\xa2r\xe8W\xd2\xa0\x83\xa9.\xdeo\xb5\x81i\x8c\xe4\xcf$}\xe7Q\xc6\x82\xf0\x85;\x91\x04\x8d\xee\x15\xb0\xcf\x88\xb2L49D\xf3U2\x9aF\x84\xf3\xcfm\x988B\x93\xd1\xab\xa3\x1c)\x1d\xcfq\xf0Ns\xa0\x0c_]\x8f\x84\xe4\xe7\xdc\xdc\xbd\xaeq\x1a\xff4`m$\t\t\xfc\xc3\x14U\xfa>\x85U\xa1\x9a\xa1\x08_\xfb\xbb\x1a\x1b\xbb\x93\xa8\xb3?E9{\xa9!k\xc8\xc9v\xd0\xbfVZd1&\x14 \xc2\xa1\xf7f\x11\xf9\xb9\x18\xf8\xc79\x84\xccg\xfd\x04\xe1\xb7\xc0\tm\x14d\xa3\xf4\xfdKi,\xa1\x80\t\x8c\x02\xa1\xbd\xdfGO\xfam\x91\x9f\x94\xa0s\x15\x82\r\xe6\xb5\x80[\xc4\xd2\xdc\xc5L\xdd\xcdH4\xbc\xd3\x8e\xfe;\xb4_\xcd\xaf\x17\xac\x16O\xaf\xcaA\x0fu-\xc7\x82\xa4\x0c\xe7\x82\xdd\xc2\x80\x96\xf5\x8b(\x01\xbe\xd9\x1f(\xd6\x19\xb3~$d\x9a\x05\xc2%`\xe8\xfa\xb0p\xcf4\xf2\xf3\x86\xa1F\x97jc\xb4\xeb\x9d;\xc6\xbe%\xbb\xec\xae\x95\xe6\xb8~/\xd1J.]h\xc9q"\xfb\x91\xa7g\xdd\xc7\xd0\xc4\x86\xe5t\xe8\xe0\xff\x00\x00\x00\x00t\xe8\xe0\x00\x8c\x17\x1f\x00\x00\x00\x00\x00\n\x02\x00\x00C\xe8\xe0\xff\x00\x00\x00\x00C\xe8\xe0\x001\x00\x00\x00\x00\x00\x00\x00\n\x00\x00\x00\x00\x00\xdc\xff\x00\x00\x00\x00\x00\x00\xdc\x00C\xe8\x04\x00\x00\x00\x00\x00\n\x02\x00\x00\x00\x00\xd9\xff\x00\x00\x00\x00\x00\x00\xd9\x00\x00\x00\x03\x00\x01\x00\x00\x00\x00\x02\x00\x00\xe0\xe2\xaf\xff\x00\x00\x00\x00\xe0\xe2\xaf\x00 \x1d\'\x00\x00\x00\x00\x00\n\x02\x00\x00@\xe2\xaf\xff\x00\x00\x00\x00@\xe2\xaf\x00\xa0\x00\x00\x00\x00\x00\x00\x00\n\x00\x00\x00"\xe2\xaf\xff\x00\x00\x00\x00"\xe2\xaf\x00\x1e\x00\x00\x00\x00\x00\x00\x00\n\x02\x00\x00h\xe1\xaf\xff\x00\x00\x00\x00h\xe1\xaf\x00\xba\x00\x00\x00\x00\x00\x00\x00\n\x00\x00\x00\x00\x00\x92\xff\x00\x00\x00\x00\x00\x00\x92\x00h\xe1\x1d\x00\x00\x00\x00\x00\n\x02\x00\x00\x00\x00\x8e\xff\x00\x00\x00\x00\x00\x00\x8e\x00\x00\x00\x04\x00\x00\x00\x00\x00\n\x00\x00\x00\x00\x00\x8d\xff\x00\x00\x00\x00\x00\x00\x8d\x00\x00\x00\x01\x00\x00\x00\x00\x00\n\x00\x00\x00\x00\x00\x8c\xff\x00\x00\x00\x00\x00\x00\x8c\x00\x00\x00\x01\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x8b\xff\x00\x00\x00\x00\x00\x00\x8b\x00\x00\x00\x01\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x8a\xff\x00\x00\x00\x00\x00\x00\x8a\x00\x00\x00\x01\x00\x01\x00\x00\x00\x00\x02\x00\x00\x00\x00\x89\xff\x00\x00\x00\x00\x00\x00\x89\x00\x00\x00\x01\x00\x01\x00\x00\x00\x00\x02\x00\x00\x00\x00\x88\xff\x00\x00\x00\x00\x00\x00\x88\x00\x00\x00\x01\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x84\xff\x00\x00\x00\x00\x00\x00\x84\x00\x00\x00\x04\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\xff\x00\x00\x00\x00\x00\x00\x80\x00\x00\x00\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff'

if len(sys.argv) != 3:
    print("Usage: python3 capify.py bios_filename new_cap_output_filename")
    sys.exit(0)

print("Opening BIOS image file:", sys.argv[1])
with open(sys.argv[1], 'rb') as f:
    bios = f.read()

print("Joining BIOS image with CAP header.")
newcap = header + bios

print("Writing new CAP file:", sys.argv[2])
with open(sys.argv[2], 'wb') as f:
    f.write(newcap)

